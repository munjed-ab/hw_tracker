<!doctype html>{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Edu+TAS+Beginner:wght@400..700&display=swap" rel="stylesheet">
    <link
      type="text/css"
      href="{% static 'css/bootstrap.min.css' %}"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'css/all.min.css' %}"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'css/main.css' %}"
    />
    <link rel="stylesheet" href="{% static 'css/signup.css' %}">
    <title>Sign Up</title>
</head>

<body>
<div class="container">
  <h1 id="logo">bro tracker</h1>
  <form method="POST" action="" class="user-form">
    {% csrf_token %}
    <div class="form-group">
      <label for="{{ form.username.id_for_label }}">Username</label>
      {{ form.username }}
      <span class="help"
        ><i>Required</i><br />
        150 characters or fewer. Letters, digits and @/./+/-/_ only.</span
      >
      <span class="error">{{ form.username.errors }}</span>
    </div>
    <div class="form-group">
      <label for="{{ form.first_name.id_for_label }}">First Name <i>(Optional)</i></label>
      {{ form.first_name }}

      <span class="help">{{ form.first_name.help_text }}</span>
      <span class="error">{{ form.first_name.errors }}</span>
    </div>
    <div class="form-group">
      <label for="{{ form.last_name.id_for_label }}">Last Name <i>(Optional)</i></label>
      {{ form.last_name }}
      <span class="help">{{ form.last_name.help_text }}</span>
      <span class="error">{{ form.last_name.errors }}</span>
    </div>
    <div class="form-group">
      <label for="{{ form.email.id_for_label }}">Email <i>(Optional)</i></label>

      {{ form.email }}
      <span class="help"><i>{{ form.email.help_text }}</i></span>
      <span class="error">{{ form.email.errors }}</span>
    </div>
    <div class="form-group">
      <label for="{{ form.password1.id_for_label }}">Password</label>
      {{ form.password1 }}
      <span class="help">
        <li>password must contain at least 8 characters.</li>
        <li>password can’t be a commonly used password.</li>
        <li>password can’t be entirely numeric.</li>
        <li>password can’t be similar to email.</li>
      </span>
      <span class="error">{{ form.password1.errors }}</span>
    </div>
    <div class="form-group">
      <label for="{{ form.password2.id_for_label }}"
        >Password Confirmation</label
      >
      {{ form.password2 }}
      <span class="help">{{ form.password2.help_text }}</span>
      <span class="error">{{ form.password2.errors }}</span>
    </div>

    <div style="text-align: center">
      <button type="submit" class="btn btn-primary">Create User</button><br/><br/>
      <a href="{% url 'login' %}">already have an account?</a>
    </div>
  </form>
</div>

<script>
  var form_fields = document.getElementsByTagName("input");
  form_fields[1].placeholder = "Enter username..";
  form_fields[2].placeholder = "Enter first name..";
  form_fields[3].placeholder = "Enter last name..";
  form_fields[4].placeholder = "Enter email..";
  form_fields[5].placeholder = "Enter password..";
  form_fields[6].placeholder = "Enter password again..";
</script>


          <div class="toast-container"></div>

          {% if messages %} {% for message in messages %}
          <script>
            createToast("{{message.message}}", "{{message.tags}}");
            function createToast(message, messageType) {
              const toast = document.querySelector(".toast-container");
              toast.style.display = "block";
              toast.textContent = message;
              toast.style.animation = "fadeOut 3s";

              if (messageType === "success") {
                toast.style.backgroundColor = "green";
              } else if (messageType === "error") {
                toast.style.backgroundColor = "red";
              }

              setTimeout(() => {
                toast.style.animation = "";
                toast.style.display = "none";
              }, 5000);
            }
          </script>
          {% endfor %} {% endif %}

<script src="https://unpkg.com/htmx.org@1.5.0"></script>
<script src="{% static 'js/jquery.min.js' %}"></script>
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'js/jquery.easing.min.js' %}"></script>
</body>
</html>